!function(){"use strict";function o(o,e,t){function l(){if(null!==a.APIKEY&&a.scriptTagAdded===!1&&a.ready===!1){var o=t[0].createElement("script");o.type="text/javascript",o.async=!0,o.src="https://maps.googleapis.com/maps/api/js?key="+a.APIKEY+"&callback=mapready",t[0].getElementsByTagName("head")[0].appendChild(o),a.scriptTagAdded=!0}else null===a.APIKEY&&console.log("Cannot load maps due to no API KEY being provided")}var a={APIKEY:null,init:function(o){a.APIKEY=o,l()},ready:!1,scriptTagAdded:!1};return o.mapready=function(){e.$apply(function(){a.ready=!0})},a}function e(o){function e(o){var e,t=parseFloat(o.lat)||0,l=parseFloat(o["long"])||0,a=parseInt(o.zoom)||8,n=void 0!==o.mapType?o.mapType.toUpperCase():"ROADMAP",p=void 0===o.customMapName?"Custom Map":o.customMapName,s=void 0!==o.mapTypeControlOptionsStyle?o.mapTypeControlOptionsStyle.toUpperCase():"DEFAULT",i=void 0!==o.mapTypeControlOptionsPosition?o.mapTypeControlOptionsPosition.toUpperCase():"TOP_LEFT",r=void 0!==o.zoomControlOptions?o.mapTypeControlOptionsStyle.toUpperCase():"BOTTOM_RIGHT",m=void 0!==o.streetViewControlOptions?o.streetViewControlOptions.toUpperCase():"RIGHT_BOTTOM",c=void 0!==o.fullscreenControlOptions?o.fullscreenControlOptions.toUpperCase():"TOP_RIGHT",d=Boolean(o.disableDoubleClickZoom),y=Boolean(o.disableDefaultUi),g=Boolean(o.fullscreenControl),C=void 0===o.clickableIcons||o.clickableIcons,u=o.draggable!==!1,T=o.mapTypeControl!==!1,I=o.streetViewControl!==!1,O=o.scrollwheel!==!1,f=o.zoomControl!==!1,b=["roadmap","satellite","hybrid","terrain","styled_map"];if(e=new google.maps.Map(document.getElementById(o.templateId),{center:{lat:t,lng:l},clickableIcons:C,disableDoubleClickZoom:d,disableDefaultUI:y,draggable:u,fullscreenControl:g,mapTypeControl:T,scrollwheel:O,streetViewControl:I,zoom:a,zoomControl:f,mapTypeId:google.maps.MapTypeId[n],zoomControlOptions:{position:google.maps.ControlPosition[r]},mapTypeControlOptions:{style:google.maps.MapTypeControlStyle[s],position:google.maps.ControlPosition[i],mapTypeIds:b},streetViewControlOptions:{position:google.maps.ControlPosition[m]},fullscreenControlOptions:{position:google.maps.ControlPosition[c]}}),o.customMapStyles&&Array.isArray(o.customMapStyles)){var v=new google.maps.StyledMapType(o.customMapStyles,{name:p});e.mapTypes.set("styled_map",v),e.setMapTypeId("styled_map")}}var t=function(o){return"map_"+(o*Math.random()).toString(36).substr(2,9)};return{restrict:"E",scope:{apikey:"@",clickableIcons:"=",customCss:"@",customMapName:"=",disableDoubleClickZoom:"=",disableDefaultUi:"=",draggable:"=",fullscreenControl:"=",fullscreenControlOptions:"=",mapType:"=",mapTypeControl:"=",mapTypeControlOptionsPosition:"=",mapTypeControlOptionsStyle:"=",lat:"=","long":"=",scrollwheel:"=",streetViewControl:"=",streetViewControlOptions:"=",zoom:"=",zoomControl:"=",zoomControlOptions:"="},template:'<div id="{{ templateId }}" class="{{ customCss }}" style="{{ height }}"></div>',link:function(l,a,n){void 0===l.customCss&&(l.height="height: 400px;"),void 0!==l.apikey?(o.init(l.apikey),l.googlemap=o,l.templateId=t(l.$id),l.$watch(function(){return l.googlemap.ready},function(o,t){o!==t&&e(l)})):console.log("Unable to load map. No API Key provided")}}}o.$inject=["$window","$rootScope","$document"],e.$inject=["loadGoogleMapAPI"],angular.module("angular-google-map",[]).factory("loadGoogleMapAPI",o).directive("googleMap",e)}();