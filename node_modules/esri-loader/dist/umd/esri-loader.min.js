!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.esriLoader=e.esriLoader||{})}(this,function(e){"use strict";function r(){return document.querySelector("script[data-esri-loader]")}function o(){var e=window.require;return e&&e.on}function n(e){var r=document.createElement("script");return r.type="text/javascript",r.src=e,r.dataset.esriLoader="loading",r}function t(e,r,o){var n;o&&(n=i(e,o));var t=function(){r(e),e.removeEventListener("load",t,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",t,!1)}function i(e,r){var o=function(n){r(n.error||new Error("There was an error attempting to load "+e.src)),e.removeEventListener("error",o,!1)};return e.addEventListener("error",o,!1),o}function d(){return void 0!==window.require&&r()}function a(e){return void 0===e&&(e={}),e.url||(e.url=f),new v.Promise(function(i,d){var a=r();if(a){var u=a.getAttribute("src");u!==e.url?d(new Error("The ArcGIS API for JavaScript is already loaded ("+u+").")):o()?i(a):t(a,i,d)}else o()?d(new Error("The ArcGIS API for JavaScript is already loaded.")):(e.dojoConfig&&(window.dojoConfig=e.dojoConfig),a=n(e.url),t(a,function(){a.dataset.esriLoader="loaded",i(a)},d),document.body.appendChild(a))})}function u(e){return new v.Promise(function(r,o){var n=window.require.on("error",o);window.require(e,function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];n.remove(),r(e)})})}function s(e,r){return o()?u(e):a(r).then(function(){return u(e)})}function c(e,o){if(void 0===o&&(o={}),console.warn("bootstrap() has been depricated and will be removed the next major release. Use loadScript() instead."),o.url||(o.url=f),r())return void(e&&e(new Error("The ArcGIS API for JavaScript is already loaded.")));o.dojoConfig&&(window.dojoConfig=o.dojoConfig);var t=n(o.url);t.onload=function(){t.dataset.esriLoader="loaded";var r=window.require;e&&e(null,r)},e&&i(t,e),document.body.appendChild(t)}function l(e,o){if(console.warn("dojoRequire() has been depricated and will be removed the next major release. Use loadModules() instead."),d())window.require(e,o);else{var n=r();if(!n)throw new Error("The ArcGIS API for JavaScript has not been loaded. You must first call esriLoader.bootstrap()");t(n,function(){window.require(e,o)})}}var f="https://js.arcgis.com/4.5/",v={Promise:window.Promise},w={isLoaded:d,loadScript:a,loadModules:s,utils:v,bootstrap:c,dojoRequire:l};e.utils=v,e.isLoaded=d,e.loadScript=a,e.loadModules=s,e.bootstrap=c,e.dojoRequire=l,e.default=w,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=esri-loader.min.js.map